(this["webpackJsonpmintbean-react-2020-08-28"]=this["webpackJsonpmintbean-react-2020-08-28"]||[]).push([[0],{24:function(e,t,a){},28:function(e,t,a){e.exports=a(41)},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),l=a.n(c),i=(a(24),a(21)),o=a(22),s=a(2),d=a.n(s),u=a(3),m=a(6),p=a(10),h=a(11),b=a(1),f=a(13),g=a(12),v=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={editable:!1,title:"",description:"",id:""},n.state.title=n.props.title,n.state.description=n.props.description,n.state.id=n.props.id,n}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:this.state.id},r.a.createElement("div",{className:"flex column todo-item"},r.a.createElement("div",{className:"flex row space-between"},r.a.createElement("h3",{className:"ml-10"},this.state.title)),r.a.createElement("div",null,r.a.createElement("p",{className:"ml-10 item-description"},this.state.description))))}}]),a}(r.a.Component),S=a(14),E=a(5),O=a.n(E),C=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={allColumns:[],currentColumn:"",currentTitle:"",currentDescription:"",createColumn:""},n.deleteItem=n.deleteItem.bind(Object(b.a)(n)),n.editItem=n.editItem.bind(Object(b.a)(n)),n.addCard=n.addCard.bind(Object(b.a)(n)),n.createSection=n.createSection.bind(Object(b.a)(n)),n.onDragEnd=n.onDragEnd.bind(Object(b.a)(n)),n.closeModal=n.closeModal.bind(Object(b.a)(n)),n.openModal=n.openModal.bind(Object(b.a)(n)),n.createTodo=n.createTodo.bind(Object(b.a)(n)),n.clearAll=n.clearAll.bind(Object(b.a)(n)),n.modal=n.modal.bind(Object(b.a)(n)),n.updateLocalStorage=n.updateLocalStorage.bind(Object(b.a)(n)),n.createColumn=n.createColumn.bind(Object(b.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.getLocalStorage()}},{key:"updateLocalStorage",value:function(){var e=this,t=this.state.allColumns;t.forEach((function(t){return localStorage.setItem(t,JSON.stringify(e.state[t]))})),localStorage.setItem("allColumns",JSON.stringify(t))}},{key:"getLocalStorage",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n,r,c,l,i,o,s,m,p,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.keys(localStorage).length){e.next=10;break}return e.next=3,this.setState({allColumns:["todos","inprog","done"],todos:{cards:[],id:O()(),colName:"todos"},inprog:{cards:[],id:O()(),colName:"inprog"},done:{cards:[],id:O()(),colName:"done"}});case 3:t={cards:[],id:O()(),colName:"done"},localStorage.setItem("todos",JSON.stringify(t)),localStorage.setItem("inprog",JSON.stringify(t)),localStorage.setItem("done",JSON.stringify(t)),localStorage.setItem("allColumns",JSON.stringify(["todos","inprog","done"])),e.next=36;break;case 10:a=JSON.parse(localStorage.getItem("allColumns")),n=0;case 12:if(!(n<a.length)){e.next=34;break}return r=a[n],e.next=16,this.setState(Object(u.a)({},r,{cards:[],id:O()(),colName:"".concat(r)}));case 16:c=[],l=JSON.parse(localStorage.getItem(a[n])),i=l.cards.length,o=0;case 20:if(!(o<i)){e.next=31;break}return s=l.cards[o].title,m=l.cards[o].description,p=l.cards[o].id,h={title:s,description:m,id:p},c.push(h),e.next=28,this.setState(Object(u.a)({},this.state[r].cards,this.state[r].cards.push(h)));case 28:o++,e.next=20;break;case 31:n++,e.next=12;break;case 34:this.setState({allColumns:a}),console.log(this.state);case 36:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state.currentColumn,null===localStorage.getItem(a)?[]:JSON.parse(localStorage.getItem(a)),n={title:this.state.currentTitle,description:this.state.currentDescription,id:O()()},e.next=6,this.setState(Object(u.a)({},this.state[a].cards,this.state[a].cards.push(n)));case 6:this.updateLocalStorage(),this.closeModal(),this.setState({currentTitle:"",currentDescription:""});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearAll",value:function(){localStorage.clear(),this.setState({allColumns:[]}),this.getLocalStorage()}},{key:"update",value:function(e){var t=this;return function(a){return t.setState(Object(u.a)({},e,a.currentTarget.value))}}},{key:"createTodo",value:function(){return r.a.createElement("div",{className:"create-todo-container"},r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",{className:"mb-15"},r.a.createElement("label",null,r.a.createElement("input",{placeholder:"Title",type:"text",value:this.state.currentTitle,onChange:this.update("currentTitle")})),r.a.createElement("label",null,r.a.createElement("input",{placeholder:"Description",type:"text",value:this.state.currentDescription,onChange:this.update("currentDescription")}))),r.a.createElement("button",{className:"submit-todo"},"Submit")))}},{key:"openModal",value:function(){document.getElementsByClassName("newTodoForm")[0].style.display="flex"}},{key:"closeModal",value:function(){document.getElementsByClassName("newTodoForm")[0].style.display="none",this.setState({newTodoContainer:"hidden"})}},{key:"addCard",value:function(e){this.setState({currentColumn:e}),this.openModal()}},{key:"deleteItem",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,r,c,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.currentTarget.parentElement.previousElementSibling.id,r=Object(o.a)(this.state[t].cards),c=r.find((function(e){return e.id===n})),l=0,r.forEach((function(e,t){if(e.id===c.id)return l=t})),r.splice(l,1),e.next=8,this.setState(Object(u.a)({},t,{cards:r,id:this.state[t].id,colName:t}));case 8:this.updateLocalStorage();case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"editItem",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,r,c,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.currentTarget.parentElement.previousElementSibling.id,r=Object(o.a)(this.state[t].cards),c=r.find((function(e){return e.id===n})),l=0,r.forEach((function(e,t){if(e.id===c.id)return l=t})),r.splice(l,1),e.next=8,this.setState(Object(u.a)({},t,{cards:r,id:this.state[t].id,colName:t}));case 8:this.updateLocalStorage();case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onDragEnd",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,r,c,l,o,s,m,p,h,b,f,g;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.destination,n=t.source,t.draggableId,a){e.next=3;break}return e.abrupt("return");case 3:if(a.droppableId!==n.droppableId||a.index!==n.index){e.next=5;break}return e.abrupt("return");case 5:if(r=this.state[n.droppableId].cards,c=this.state[a.droppableId].cards,l=Array.from(r),o=Array.from(c),c!==r){e.next=15;break}s=l.splice(n.index,1),m=Object(i.a)(s,1),p=m[0],l.splice(a.index,0,p),this.setState(Object(u.a)({},n.droppableId,{cards:l,id:this.state[a.droppableId].id,colName:n.droppableId})),e.next=20;break;case 15:return b=l.splice(n.index,1),f=Object(i.a)(b,1),g=f[0],o.splice(a.index,0,g),e.next=19,this.setState((h={},Object(u.a)(h,n.droppableId,{cards:l,id:this.state[n.droppableId].id,colName:n.droppableId}),Object(u.a)(h,a.droppableId,{cards:o,id:this.state[a.droppableId].id,colName:a.droppableId}),h));case 19:this.updateLocalStorage();case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSection",value:function(e){var t=this;return r.a.createElement("div",{id:"done-container"},r.a.createElement("h2",null,e),r.a.createElement("button",{className:"mb-15 blue",onClick:function(){return t.removeCol(e)}},"-"),r.a.createElement("button",{className:"mb-15 blue",onClick:function(){return t.addCard(e)}},"+"),r.a.createElement(S.c,{droppableId:e},(function(a){return r.a.createElement("div",Object.assign({id:e},a.droppableProps,{ref:a.innerRef}),t.state[e].cards.map((function(a,n){return r.a.createElement(S.b,{key:a.id,draggableId:a.id,index:n},(function(n){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),r.a.createElement(v,{title:a.title,description:a.description,id:a.id}),r.a.createElement("div",{className:"item-footer lightred flex row"},r.a.createElement("button",{className:"item-button ml-10",onClick:function(a){return t.deleteItem(e,a)}},"Delete")))}))})),a.placeholder)})))}},{key:"removeCol",value:function(e){localStorage.removeItem(e);var t=this.state.allColumns.indexOf(e),a=Array.from(this.state.allColumns);a.splice(t,1),localStorage.setItem("allColumns",JSON.stringify(a)),this.getLocalStorage()}},{key:"createColumn",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.state.allColumns).push(this.state.createColumn),e.next=4,this.setState(Object(u.a)({allColumns:t},this.state.createColumn,{cards:[],id:O()(),colName:this.state.createColumn}));case 4:this.updateLocalStorage(),console.log(this.state);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"modal",value:function(){return r.a.createElement("div",{className:"newTodoForm"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h1",null,"Add Todo"),this.createTodo(),r.a.createElement("button",{className:"modal-close",onClick:this.closeModal},"Close")))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(S.a,{onDragEnd:function(t){return e.onDragEnd(t)}},r.a.createElement("h1",{className:"main-title"},"Kanban"),r.a.createElement("div",{className:"createColumn"},r.a.createElement("form",{className:"columnForm",onSubmit:function(){return e.createColumn()}},r.a.createElement("input",{placeholder:"Add Column",type:"text",value:this.state.createColumn,onChange:this.update("createColumn")}),r.a.createElement("button",{className:"createColBtn"},"+")),r.a.createElement("button",{className:"reset-button",onClick:this.clearAll},"Reset to default")),r.a.createElement("div",{className:"space-around flex row bg-lightgray height-100"},this.state.allColumns.map((function(t,a){return r.a.createElement("section",{className:"flex column width-20",key:a},e.createSection(t))})))),this.modal())}}]),a}(r.a.Component),y=a(44),k=a(26);var N=function(){return r.a.createElement(y.a,{backend:k.a},r.a.createElement(C,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.d3485cf2.chunk.js.map